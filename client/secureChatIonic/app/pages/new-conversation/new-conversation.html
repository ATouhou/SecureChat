<!--
  Generated template for the NewConversationPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>New Conversation</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-searchbar class="friendSearchBar" placeholder="Enter an email or name" [(ngModel)]="searchQuery"></ion-searchbar>

    <ion-list>
      <!-- Our list of currently found friends -->
      <ion-item *ngFor="let friend of friends | NgForTextFilter:searchQuery" (click)="goToUser(friend)">
          <!-- Check Box for the item -->
          <ion-checkbox color="dark" [(ngModel)]="friend.checked" checked="friend.checked"></ion-checkbox>
          <ion-avatar item-left>
            <img src="https://{{friend.profilePhotoURL}}">
          </ion-avatar>
          <ion-label>{{friend.name}}</ion-label>
      </ion-item>
    </ion-list>

</ion-content>

<!-- Fixed to the bottom of the page -->
<div class="convoFooter">
  <!-- The message reply box -->
  <textarea class="replyBox" (keypress)="createConversation($event.keyCode)" placeholer="Type your message here" [(ngModel)]="convoMessage">
  </textarea>

  <button class="replyButton" (click)="createConversation()" [disabled]="convoMessage && convoMessage.length < 1">
        <ion-icon name="send" isActive="{{sendActive}}"></ion-icon>
  </button>
</div>
